"use strict";angular.module("yeo920App",["ngAnimate","ngCookies","ngResource","ngSanitize","ngTouch","ui.router"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.when("","/RiverData"),b.otherwise("/RiverData"),a.state("RiverData",{url:"/RiverData",templateUrl:"views/RiverData.html",controller:"RiverData"}).state("page3",{url:"/page3",templateUrl:"views/page3.html",controller:"Page3"}).state("complain",{url:"/complain",templateUrl:"views/complain.html",controller:"complain"}).state("error",{url:"/error",templateUrl:"404.html",controller:"MainCtrl",controllerAs:"main"})}]);var app=angular.module("yeo920App").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]).filter("SK",function(){return function(a){if(""==a||void 0==a)return"";var b=a,c=b+"平方公里";return c}}).filter("M",function(){return function(a){if(""==a||void 0==a)return"";var b=a,c=b+"米";return c}}).filter("time",function(){return function(a){var b=a,c=b.split(" ");return c[0]}}).controller("complain",["$scope","$http",function(a,b){a.datalist="",a.ggg=function(){$(".d_box").addClass("rise")},a.down=function(){$(".d_box").removeClass("rise"),$(".t_box").removeClass("hides")},a.activecss=function(){alert(123)},$.post("http://120.76.167.125:7081/capi/UserPartrolEvent/getUserPartrolEventPageByCond",{areaCode:"%",areaRiverName:"%",eventType:1,creator:"%",state:"%",startDate:"2017-10-10",endDate:"2017-11-20",page:0,size:100}).then(function(b){console.log(b),a.$apply(function(){a.datalist=b.dataList})}),a.showdetal=function(b){var c=b;console.log(c);var d=c.id;$.post("http://120.76.167.125:7081/capi/UserPartrolEvent/getUserPartrolEventById",{param:d}).then(function(b){var c=b;console.log(c),a.$apply(function(){a.clearstate=c.userPartrolEvent.clearState.toString(),a.waterstate=c.userPartrolEvent.waterState.toString(),a.sludgestate=c.userPartrolEvent.sludgeState.toString(),a.invadestate=c.userPartrolEvent.invadeState.toString(),a.drainstate=c.userPartrolEvent.drainState.toString(),a.lng=c.userPartrolEvent.lng.toString(),a.lat=c.userPartrolEvent.lat.toString(),a.createtime=c.userPartrolEvent.eventTime.toString(),a.description=c.userPartrolEvent.description.toString(),a.areaRiverName=c.userPartrolEvent.areaRiverName.toString(),a.picObj=c.userPartrolEventPicList})}),$(".d_box").addClass("rise"),$(".t_box").addClass("hides")},a.initBap=function(b,c){a.map=new BMap.Map("container");var d=new BMap.Point(b,c);a.map.centerAndZoom(d,12),a.map.setCurrentCity("广州");var e=new BMap.Marker(d);a.map.addOverlay(e),a.map.addControl(new BMap.ScaleControl),a.map.addEventListener("touch",function(){setTimeout(function(){a.MapShowWin=!1,a.$apply()},1e3)})},a.lookMap=function(){a.MapShowWin=!0,a.initBap(a.lng,a.lat)}}]).controller("RiverData",["$scope","$http",function(a,b){$.post("http://120.76.167.125:7081/capi/Area/getAreaTreeListByAreaCode",{param:3303}).then(function(b){a.$apply(function(){a.cityarea=b[0].childAreaList})}),a.townarea="",a.villagearea="",a.c_village="",a.c_cityarea="",a.c_townarea="",a.s_city="",a.s_town="",a.s_village="",a.m_name="",a.m_tel="",a.getriverlist=function(b){var c=JSON.parse(b);a.s_village=c.areaName,$.post("http://120.76.167.125:7081/capi/AreaRiver/getAreaRiveListByAreaCode",{param:c.areaCode}).then(function(b){0!=b.length&&(a.theRiver="",a.$apply(function(){a.theRiver=b}))})["catch"](function(a){console.log(a)})},a.gettowns=function(b){var c=JSON.parse(b);a.townarea=c.childAreaList,a.s_city=c.areaName,a.s_town="",a.s_village="",$.post("http://120.76.167.125:7081/capi/AreaRiver/getAreaRiveListByAreaCode",{param:c.areaCode}).then(function(b){0!=b.length&&(a.theRiver="",a.$apply(function(){a.theRiver=b}))})["catch"](function(a){console.log(a)})},a.getvillage=function(b){var c=JSON.parse(b);a.villagearea=c.childAreaList,a.s_town=c.areaName,$.post("http://120.76.167.125:7081/capi/AreaRiver/getAreaRiveListByAreaCode",{param:c.areaCode}).then(function(b){0!=b.length&&(a.theRiver="",a.$apply(function(){a.theRiver=b}))})["catch"](function(a){console.log(a)})},a.getRiverdata=function(b){var c=JSON.parse(b);a.RiverName=c.name,a.level=c.level,a.length=c.length,a.riverarea=c.acreage;var d=c.id;$.post("http://120.76.167.125:7081/capi/AreaRiverUser/getAreaRiverManagerById",{param:d}).then(function(b){var c=b;return""==c?void a.$apply(function(){a.m_name="暂无信息",a.m_tel="暂无信息"}):void a.$apply(function(){a.m_name=c.managerName,a.m_tel=c.managerMobile})})}}]).controller("Page3",["$scope","$filter","$http",function(a,b,c){$.post("http://120.76.167.125:7081/capi/Area/getAreaTreeListByAreaCode",{param:3303}).then(function(b){a.$apply(function(){a.cityarea=b[0].childAreaList})}),a.townarea="",a.villagearea="",a.c_village="",a.c_cityarea="",a.c_townarea="",a.s_city="",a.s_town="",a.s_village="",a.m_name="",a.m_tel="",a.getriverlist=function(b){var c=JSON.parse(b);console.log(c),a.s_village=c.areaName,$.post("http://120.76.167.125:7081/capi/AreaRiver/getAreaRiveListByAreaCode",{param:c.areaCode}).then(function(b){return 0==b.length?void console.log("你已经到终点了"):(a.theRiver="",void a.$apply(function(){a.theRiver=b}))})["catch"](function(a){console.log(a)})},a.gettowns=function(b){var c=JSON.parse(b);a.townarea=c.childAreaList,a.s_city=c.areaName,a.s_town="",a.s_village="",$.post("http://120.76.167.125:7081/capi/AreaRiver/getAreaRiveListByAreaCode",{param:c.areaCode}).then(function(b){return console.log(b),0==b.length?void console.log("你已经到终点了"):(a.theRiver="",void a.$apply(function(){a.theRiver=b}))})["catch"](function(a){console.log(a)})},a.getvillage=function(b){var c=JSON.parse(b);console.log(c),a.villagearea=c.childAreaList,a.s_town=c.areaName,$.post("http://120.76.167.125:7081/capi/AreaRiver/getAreaRiveListByAreaCode",{param:c.areaCode}).then(function(b){return console.log(b),0==b.length?void console.log("你已经到终点了"):(a.theRiver="",void a.$apply(function(){a.theRiver=b}))})["catch"](function(a){})},a.getRiverdata=function(b){var c=JSON.parse(b);console.log(c),a.areaRiverName=c.name,a.areaCode=c.areaCode,a.areaRiverId=c.id,console.log(a.areaRiverId),a.level=c.level,a.length=c.length,a.riverarea=c.acreage;var d=c.id;$.post("http://120.76.167.125:7081/capi/AreaRiverUser/getAreaRiverManagerById",{param:d}).then(function(b){var c=b;return""==c?void a.$apply(function(){a.m_name="暂无信息",a.m_tel="暂无信息",setInterval(function(){Date.parse(new Date)},3e3)}):void a.$apply(function(){a.m_name=c.managerName,a.m_tel=c.managerMobile})})},a.initModel=function(){a.eventTime="",a.lng="",a.lat="",a.test="",a.c1=!1,a.c2=!1,a.w1=!1,a.w2=!1,a.yu1=!1,a.yu2=!1,a.q1=!1,a.q2=!1,a.p1=!1,a.p2=!1,a.count=0,a.userPartrolEventPicList={},a.thumb={},a.thumb_default={1111:{}},a.drainState=0,a.clearState=0,a.waterState=0,a.sludgeState=0,a.invadeState=0},a.initFns=function(){a.change1=function(){a.c1||a.c2||(a.clearState=0),a.c1&&(a.clearState=1),a.c2&&(a.clearState=2),a.c1&&a.c2&&(a.clearState=3)},a.change2=function(){a.w1||a.w2||(a.waterState=0),a.w1&&(a.waterState=1),a.w2&&(a.waterState=2),a.w1&&a.w2&&(a.waterState=3)},a.change3=function(){a.yu1||a.yu2||(a.sludgeState=0),a.yu1&&(a.sludgeState=1),a.yu2&&(a.sludgeState=2),a.yu1&&a.yu2&&(a.sludgeState=3)},a.change4=function(){a.q1||a.q2||(a.invadeState=0),a.q1&&(a.invadeState=1),a.q2&&(a.invadeState=2),a.q1&&a.q2&&(a.invadeState=3)},a.change5=function(){a.p1||a.p2||(a.drainState=0),a.p1&&(a.drainState=1),a.p2&&(a.drainState=2),a.p1&&a.p2&&(a.drainState=3)},a.img_upload=function(b){angular.forEach(b,function(b,c){var d=b,e=new FileReader;e.onload=function(b){a.$apply(function(){a.thumb[a.count++]={imgSrc:b.target.result}})},e.readAsDataURL(d);var f=new FormData($("#postForm")[0]);$.ajax({url:"http://120.76.167.125:7081/capi/Resource/fileUpload",type:"POST",data:f,async:!1,cache:!1,contentType:!1,processData:!1,success:function(b){a.picName=b.data.name,a.picPath=b.data.path},error:function(a){console.log(a)}})})},a.img_del=function(b){var c=[];for(var d in a.thumb)c.push(d);delete a.thumb[c[b]]},a.getAddr=function(){a.MapShowWin=!0},a.update=function(){var b={userPartrolEvent:{areaCode:a.areaCode,areaRiverId:a.areaRiverId,areaRiverName:a.areaRiverName,description:a.test,drainState:a.drainState,clearState:a.clearState,eventTime:a.eventTime,eventType:1,invadeState:a.invadeState,lat:a.lat,lng:a.lng,otherState:0,sludgeState:a.sludgeState,state:0,stateName:1,userPartrolRecId:0,waterState:a.waterState},userPartrolEventPicList:[{id:0,picName:a.picName,picPath:a.picPath,lat:a.lat,lng:a.lng,realTime:a.eventTime}]};c({method:"POST",url:"http://120.76.167.125:7081/capi/UserPartrolEvent/modifyVo",data:b,headers:"application/json;charset=UTF-8"}).then(function(a){alert("发送成功"),console.log(a),console.log(b)},function(a){alert("发送失败"),console.log(arguments)}),a.initPage()}},a.initBap=function(){a.map=new BMap.Map("container");var b=new BMap.Point(113.366866,23.273647);a.map.centerAndZoom(b,12),a.map.setCurrentCity("广州"),a.map.addControl(new BMap.ScaleControl);var c=new BMap.Geolocation;c.getCurrentPosition(function(b){this.getStatus()==BMAP_STATUS_SUCCESS&&(a.longitude=b.point.lng,a.latitude=b.point.lat,a.getGeo(),a.map.addEventListener("touch",function(){setTimeout(function(){a.MapShowWin=!1,a.$apply()},1e3)}))},{enableHighAccuracy:!0,maximumAge:3e4}),a.getGeo=function(){var b=new BMap.Geocoder;b.getLocation(new BMap.Point(a.longitude,a.latitude),function(b){if(b){a.geoaddress={fulladdress:b.addressComponents.city+b.addressComponents.district+b.addressComponents.street,city:b.addressComponents.city,area:b.addressComponents.district,street:b.addressComponents.street};var c=new BMap.Marker(b.point);a.map.addOverlay(c),a.lng=b.point.lng,a.lat=b.point.lat,a.position=b.addressComponents.city+b.addressComponents.district+b.addressComponents.street,a.shi=b.addressComponents.city,a.qu=b.addressComponents.district,a.jiedao=b.addressComponents.street}else a.showAlert("定位失败,地址解析失败")})}},a.initPage=function(){a.initModel(),a.initBap(),a.initFns(),a.time=new Date;var c=b("date")(a.time,"yyyy-MM-dd HH:mm:ss");a.eventTime=c},a.initPage()}]);app.directive("ngTouchstart",function(){return{controller:["$scope","$element",function(a,b){function c(c){var d=b.attr("ng-touchstart");a.$event=c,a.$apply(d)}b.bind("touchstart",c)}]}}).directive("ngTouchmove",function(){return{controller:["$scope","$element",function(a,b){function c(a){a.preventDefault(),b.bind("touchmove",d),b.bind("touchend",e)}function d(c){var d=b.attr("ng-touchmove");a.$event=c,a.$apply(d)}function e(a){a.preventDefault(),b.unbind("touchmove",d),b.unbind("touchend",e)}b.bind("touchstart",c)}]}}).directive("ngTouchend",function(){return{controller:["$scope","$element",function(a,b){function c(c){var d=b.attr("ng-touchend");a.$event=c,a.$apply(d)}b.bind("touchend",c)}]}}).directive("onChange",function(){return{restrict:"A",link:function(a,b,c){var d=a.$eval(c.onChange);b.bind("change",d)}}}),function(a){function b(){var a,b;a=document.createElement("div"),a.innerHTML=c,c=null,b=a.getElementsByTagName("svg")[0],b&&(b.setAttribute("aria-hidden","true"),b.style.position="absolute",b.style.width=0,b.style.height=0,b.style.overflow="hidden",h(b,document.body))}var c='<svg><symbol id="icon-guanbi" viewBox="0 0 1024 1024"><path d="M511.996418 65.60416c-246.534929 0-446.391746 199.862957-446.391746 446.394816 0 246.540046 199.856817 446.397886 446.391746 446.397886 246.541069 0 446.396863-199.858864 446.396863-446.397886C958.393281 265.466094 758.537488 65.60416 511.996418 65.60416L511.996418 65.60416zM716.349643 657.94393c16.102746 16.144702 16.102746 42.269709 0 58.376549-16.140609 16.144702-42.273802 16.144702-58.408271 0L511.996418 570.389852 366.015649 716.320479c-16.095583 16.144702-42.227754 16.144702-58.365292 0-16.095583-16.10684-16.095583-42.231847 0-58.376549l145.970536-145.933697L307.650357 366.04072c-16.095583-16.111956-16.095583-42.243103 0-58.376549 16.132422-16.109909 42.265616-16.109909 58.365292 0L511.996418 453.634708l145.944953-145.970536c16.135492-16.109909 42.267663-16.109909 58.408271 0 16.102746 16.133446 16.102746 42.264593 0 58.376549L570.379107 512.010233 716.349643 657.94393 716.349643 657.94393zM716.349643 657.94393"  ></path></symbol><symbol id="icon-X" viewBox="0 0 1024 1024"><path d="M610.380381 512.112596l388.032327 391.480565c27.234043 27.445159 27.234043 71.920391 0 99.36555a69.457364 69.457364 0 0 1-98.7322 0l-387.891583-391.33982-387.961955 391.33982a69.457364 69.457364 0 0 1-98.732201 0 70.653692 70.653692 0 0 1 0-99.36555l388.032327-391.480565-388.032327-391.410193a70.724064 70.724064 0 0 1 0-99.435923 69.457364 69.457364 0 0 1 98.732201 0l387.961955 391.339821 387.891583-391.339821a69.457364 69.457364 0 0 1 98.7322 0c27.234043 27.445159 27.234043 71.990764 0 99.435923l-388.032327 391.410193z"  ></path></symbol><symbol id="icon-guanbi1" viewBox="0 0 1024 1024"><path d="M980.736 975.36c-32.768 32.768-71.68 47.872-116.736 47.872s-83.712-14.848-116.736-47.872l-242.176-242.176-236.288 236.288c-32.768 32.768-68.864 50.944-110.592 53.76-41.984 3.072-77.824-8.96-110.592-41.984C14.848 948.48 0 909.568 0 864.768s14.848-83.712 47.872-116.736L284.16 512l-236.288-236.288C14.848 242.944 0 204.032 0 158.976s14.848-86.784 47.872-116.736S116.736-2.304 158.464 0.512c41.984 3.072 77.824 20.992 110.592 50.944l236.288 236.288L747.52 48.384C780.288 15.616 819.2 0.512 864.256 0.512c44.8 0 83.712 14.848 116.736 47.872s47.872 68.864 41.984 110.592c-3.072 41.984-20.992 77.824-53.76 110.592L726.784 512l242.176 242.176c32.768 32.768 50.944 68.864 53.76 110.592s-8.96 77.824-41.984 110.592z"  ></path></symbol><symbol id="icon-guanbi2" viewBox="0 0 1024 1024"><path d="M834.661 722.663l-272.724-272.721 271.115-271.123c10.207-10.189 10.207-26.719 0-36.906-10.189-10.189-26.704-10.189-36.909 0l-271.117 271.117-272.127-272.128c-10.255-10.255-26.873-10.255-37.125 0-10.255 10.255-10.255 26.891 0 37.132l272.127 272.124-269.994 269.994c-10.189 10.189-10.189 26.719 0 36.925 10.207 10.187 26.719 10.187 36.909 0l269.995-270.004 272.723 272.721c10.254 10.255 26.87 10.255 37.132 0 10.253-10.254 10.253-26.868 0-37.132z"  ></path></symbol></svg>',d=function(){var a=document.getElementsByTagName("script");return a[a.length-1]}(),e=d.getAttribute("data-injectcss"),f=function(b){function c(a,b){var c=a.document,d=!1,e=function(){d||(d=!0,b())},f=function(){try{c.documentElement.doScroll("left")}catch(a){return void setTimeout(f,50)}e()};f(),c.onreadystatechange=function(){"complete"==c.readyState&&(c.onreadystatechange=null,e())}}if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(b,0);else{var d=function(){document.removeEventListener("DOMContentLoaded",d,!1),b()};document.addEventListener("DOMContentLoaded",d,!1)}else document.attachEvent&&c(a,b)},g=function(a,b){b.parentNode.insertBefore(a,b)},h=function(a,b){b.firstChild?g(a,b.firstChild):b.appendChild(a)};if(e&&!a.__iconfont__svg__cssinject__){a.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(i){console&&console.log(i)}}f(b)}(window),angular.module("yeo920App").run(["$templateCache",function(a){a.put("views/RiverData.html",'<div class="box"> <div class="m_title">河段选择 </div> <div class="m_cont"> <div class="m_items"> <div class="choose">选择区县:</div> <div class="c_cont"> <select class="c_area" name="" id="" ng-model="c_cityarea" ng-change="gettowns(c_cityarea)"> <option value="">请选择</option> <option ng-repeat="item in cityarea" value="{{item}}"> {{item.areaName}}</option> </select> </div> </div> <div class="m_items"> <div class="choose">选择乡镇街:</div> <div class="c_cont"> <select class="c_area" name="" id="" ng-model="c_townarea" ng-change="getvillage(c_townarea)"> <option value="">请选择</option> <option ng-repeat="item in townarea " value="{{item}}">{{item.areaName}}</option> </select> </div> </div> <div class="m_items"> <div class="choose">选择村居:</div> <div class="c_cont"> <select class="c_area" name="" id="" ng-model="c_village" ng-change="getriverlist(c_village)"> <option value="">请选择</option> <option ng-repeat="item in villagearea " value="{{item}}">{{item.areaName}}</option> </select> </div> </div> <div class="m_items"> <div class="choose">选择河段:</div> <div class="c_cont"> <select class="c_area" name="" id="" ng-model="c_river" ng-change="getRiverdata(c_river)"> <option value="">请选择</option> <option ng-repeat="r in theRiver" value="{{r}}">{{r.name}}</option> </select> </div> </div> </div> <div class="m_title bt mt">河道信息 </div> <div class="m_cont"> <div class="d_items"> <div class="d_title fl">河段名称:</div> <div class="d_cont fl">{{ RiverName }}</div> </div> <div class="d_items"> <div class="d_title fl">河段所属:</div> <div class="d_cont fl">{{s_city + s_town + s_village }}</div> </div> <div class="d_items"> <div class="d_title fl">河段等级:</div> <div class="d_cont fl">{{ level }}</div> </div> <div class="d_items"> <div class="d_title fl">河段长度:</div> <div class="d_cont fl">{{ length |M}}</div> </div> <div class="d_items"> <div class="d_title fl">河段面积:</div> <div class="d_cont fl">{{ riverarea | SK }}</div> </div> </div> <div class="m_title bt mt">河长信息 </div> <div class="m_cont"> <div class="m_items"> <div class="choose">姓名:</div> <div class="c_cont"> {{ m_name }} </div> </div> <div class="m_items"> <div class="choose">联系方式:</div> <div class="c_cont"> {{ m_tel }} </div> </div> </div> </div>'),a.put("views/complain.html",'<div class="box1" style="overflow: hidden"> <!-- 界面层 --> <div class="t_box"> <!-- 123 <button ng-touchstart="ggg()">弹出</button>\n		\n		<div ng-click="ggg()">ononon</div> --> <div class="contbox"> <div class="c_titleBox"> <div class="c_title">投诉列表</div><div class="sub">(点击条目查看详情)</div> </div> <div class="tabbox"> <div class="c_row"> <div class="c_col cell1">序号</div> <div class="c_col cell2">关联河段</div> <div class="c_col cell3">投诉状态</div> <div class="c_col cell4">上报时间</div> <div class="c_col cell5">满意度</div> </div> <div class="c_row" ng-repeat="item in datalist" ng-click="showdetal(item)"> <div class="c_col cell1" ng-bind="$index+1"></div> <div class="c_col cell2">{{ item.areaRiverName }}</div> <div class="c_col cell3"> <div class="states" ng-if="item.state == 1"> 新增 </div> <div class="states" ng-if="item.state == 100"> 待核实 </div> <div class="states" ng-if="item.state == 200"> 待处理 </div> <div class="states" ng-if="item.state == 400"> 处理中 </div> <div class="states" ng-if="item.state == 500"> 待核实 </div> <div class="states" ng-if="item.state == 0"> 已结案 </div> </div> <div class="c_col cell4">{{ item.createTime |time }}</div> <div class="c_col cell5">{{ }}</div> </div> </div> </div> </div> <!-- 弹出层 --> <div class="d_box"> <div style="width:100%"> <!-- 成林页面模板 --> <div class="contain complainListDetail"> <div class="wrapper" ng-show="!MapShowWin"> <div class="title-cls">投诉详情 <span ng-bind="state"></span> <div class="closebtn" ng-click="down()"><i class="iconfont icon-guanbi"></i></div> </div> <div class="info-item"> <label class="item-key">上报时间:</label> <label class="item-value">{{ createtime }}</label> </div> <div class="info-item"> <label class="item-key">上报河段:</label> <label class="item-value">{{ areaRiverName }}</label> </div> <div class="clear"> <label class="text-key">描述:</label> <textarea rows="3" ng-model="description" class="textarea-cls" readonly></textarea> </div> <div class="info-item"> <label class="item-key">位置:</label> <button class="btn" type="button" style="width: 130px;margin-top: 5px" ng-touchstart="lookMap()">查看定位</button> </div> <div class="clear"> <label class="content-key">具体内容:</label> <!-- ------------------------------------------------------ --> <div class="river-info-group" ng-if="clearstate == 0"> <label class="group-title">河段保洁</label> <div class="river-info-item"> <input disabled type="checkbox"> <label>河岸有垃圾</label> </div> <div class="river-info-item"> <input type="checkbox" disabled> <label>河面有垃圾</label> </div> </div> <div class="river-info-group" ng-if="clearstate == 1"> <label class="group-title">河段保洁</label> <div class="river-info-item"> <input disabled checked type="checkbox"> <label>河岸有垃圾</label> </div> <div class="river-info-item"> <input type="checkbox" disabled> <label>河面有垃圾</label> </div> </div> <div class="river-info-group" ng-if="clearstate == 2"> <label class="group-title">河段保洁</label> <div class="river-info-item"> <input disabled type="checkbox"> <label>河岸有垃圾</label> </div> <div class="river-info-item"> <input type="checkbox" disabled checked> <label>河面有垃圾</label> </div> </div> <div class="river-info-group" ng-if="clearstate == 3"> <label class="group-title">河段保洁</label> <div class="river-info-item"> <input disabled checked type="checkbox"> <label>河岸有垃圾</label> </div> <div class="river-info-item"> <input type="checkbox" checked disabled> <label>河面有垃圾</label> </div> </div> <!-- ---------------------------------------------- --> <div class="river-info-group" ng-if="waterstate == 0"> <label class="group-title">河段水体</label> <div class="river-info-item"> <input type="checkbox" disabled> <label>水体异味</label> </div> <div class="river-info-item"> <input type="checkbox" disabled> <label>颜色异常</label> </div> </div> <div class="river-info-group" ng-if="waterstate == 1"> <label class="group-title">河段水体</label> <div class="river-info-item"> <input type="checkbox" disabled checked> <label>水体异味</label> </div> <div class="river-info-item"> <input type="checkbox" disabled> <label>颜色异常</label> </div> </div> <div class="river-info-group" ng-if="waterstate == 2"> <label class="group-title">河段水体</label> <div class="river-info-item"> <input type="checkbox" disabled> <label>水体异味</label> </div> <div class="river-info-item"> <input type="checkbox" disabled checked> <label>颜色异常</label> </div> </div> <div class="river-info-group" ng-if="waterstate == 3"> <label class="group-title">河段水体</label> <div class="river-info-item"> <input type="checkbox" disabled checked> <label>水体异味</label> </div> <div class="river-info-item"> <input type="checkbox" disabled checked> <label>颜色异常</label> </div> </div> <!-- --------------------------------------------------- --> <div class="river-info-group" ng-if="waterstate == 0"> <label class="group-title">河段淤积</label> <div class="river-info-item"> <input type="checkbox" disabled> <label>有明显污泥</label> </div> <div class="river-info-item"> <input type="checkbox" disabled> <label>有垃圾淤积</label> </div> </div> <div class="river-info-group" ng-if="waterstate == 1"> <label class="group-title">河段淤积</label> <div class="river-info-item"> <input type="checkbox" disabled checked> <label>有明显污泥</label> </div> <div class="river-info-item"> <input type="checkbox" disabled> <label>有垃圾淤积</label> </div> </div> <div class="river-info-group" ng-if="waterstate == 2"> <label class="group-title">河段淤积</label> <div class="river-info-item"> <input type="checkbox" disabled> <label>有明显污泥</label> </div> <div class="river-info-item"> <input type="checkbox" checked disabled> <label>有垃圾淤积</label> </div> </div> <div class="river-info-group" ng-if="waterstate == 3"> <label class="group-title">河段淤积</label> <div class="river-info-item"> <input type="checkbox" checked disabled> <label>有明显污泥</label> </div> <div class="river-info-item"> <input type="checkbox" checked disabled> <label>有垃圾淤积</label> </div> </div> <!-- ------------------------------------------ --> <div class="river-info-group" ng-if="invadestate == 0"> <label class="group-title">侵占河段</label> <div class="river-info-item"> <input type="checkbox" disabled> <label>存在涉水违建</label> </div> <div class="river-info-item"> <input type="checkbox" disabled> <label>存在倾倒弃渣、固危废</label> </div> </div> <div class="river-info-group" ng-if="invadestate == 1"> <label class="group-title">侵占河段</label> <div class="river-info-item"> <input type="checkbox" disabled checked> <label>存在涉水违建</label> </div> <div class="river-info-item"> <input type="checkbox" disabled> <label>存在倾倒弃渣、固危废</label> </div> </div> <div class="river-info-group" ng-if="invadestate == 2"> <label class="group-title">侵占河段</label> <div class="river-info-item"> <input type="checkbox" disabled> <label>存在涉水违建</label> </div> <div class="river-info-item"> <input type="checkbox" checked disabled> <label>存在倾倒弃渣、固危废</label> </div> </div> <div class="river-info-group" ng-if="invadestate == 3"> <label class="group-title">侵占河段</label> <div class="river-info-item"> <input type="checkbox" disabled checked> <label>存在涉水违建</label> </div> <div class="river-info-item"> <input type="checkbox" disabled checked> <label>存在倾倒弃渣、固危废</label> </div> </div> <!-- -------------------------------------------------- --> <div class="river-info-group" ng-if="drainstate == 0"> <label class="group-title">排污口</label> <div class="river-info-item"> <input type="checkbox" disabled> <label>排放时间异常</label> </div> <div class="river-info-item"> <input type="checkbox" disabled> <label>排放物异常</label> </div> </div> <div class="river-info-group" ng-if="drainstate == 1"> <label class="group-title">排污口</label> <div class="river-info-item"> <input type="checkbox" disabled checked> <label>排放时间异常</label> </div> <div class="river-info-item"> <input type="checkbox" disabled> <label>排放物异常</label> </div> </div> <div class="river-info-group" ng-if="drainstate == 2"> <label class="group-title">排污口</label> <div class="river-info-item"> <input type="checkbox" disabled> <label>排放时间异常</label> </div> <div class="river-info-item"> <input type="checkbox" disabled checked> <label>排放物异常</label> </div> </div> <div class="river-info-group" ng-if="drainstate == 3"> <label class="group-title">排污口</label> <div class="river-info-item"> <input type="checkbox" disabled checked> <label>排放时间异常</label> </div> <div class="river-info-item"> <input type="checkbox" disabled checked> <label>排放物异常</label> </div> </div> <!-- -------------------------------------------------- --> </div> <div class="info-item clear"> <label class="item-key">照片:</label> <div class="river-info"> <div class="upload-success" ng-repeat="item in picObj" ng-style="{\'background-image\': \'url(http://\' + \'120.76.167.125:7081/images/\'+item.picPath+\'300x300\'+item.picName+ \')\'}"> <!-- 采用angular循环的方式，对存入thumb的图片进行展示 --> <!--<label>--> <!--<img ng-src="{{item.imgSrc}}"/>--> <!--</label>--> <!--<span ng-if="item.imgSrc" ng-click="img_del($index)"></span>--> </div> </div> </div> <div class="clear" style="display: none"> <label class="text-key">结案:</label> <textarea rows="3" class="textarea-cls" readonly></textarea> </div> <div class="info-item clear" style="display: none"> <label class="group-title" style="display: block">满意度:</label> <div class="river-info-item"> <label class="group-key"><input name="appraise" type="radio" value="">非常满意</label> <label class="group-key"><input name="appraise" type="radio" value="">满意</label> <label class="group-key"><input name="appraise" type="radio" value="">一般</label> </div> </div> </div> <div id="container" ng-show="MapShowWin"></div> </div> <!-- 模板结束 --> </div> </div> </div>'),a.put("views/main.html",'<nav class="navbar navbar-default"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="#">logo</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <ul class="nav navbar-nav"> <li class="active" ui-sref=".page1"><a href="#">Page1 <span class="sr-only">(current)</span></a></li> <li><a href="#" ui-sref=".page2">Page2</a></li> <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">more <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a href="#" ui-sref=".page3">Page3</a></li> <li><a href="#" ui-sref=".kk">Another action</a></li> <li><a href="#">Something else here</a></li> <li role="separator" class="divider"></li> <li><a href="#">Separated link</a></li> <li role="separator" class="divider"></li> <li><a href="#">One more separated link</a></li> </ul> </li> </ul> <form class="navbar-form navbar-left"> <div class="form-group"> <input type="text" class="form-control" placeholder="Search"> </div> <button type="submit" class="btn btn-default">搜索</button> </form> <ul class="nav navbar-nav navbar-right"> <li><a href="#">登陆</a></li> <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">神奇通道 <span class="caret"></span></a> <ul class="dropdown-menu"> <li><a href="#">Action</a></li> <li><a href="#">Another action</a></li> <li><a href="#">Something else here</a></li> <li role="separator" class="divider"></li> <li><a href="#">Separated link</a></li> </ul> </li> </ul> </div><!-- /.navbar-collapse --> </div><!-- /.container-fluid --> </nav> <div> <!-- <div ui-view=""></div> --> </div>'),a.put("views/page3.html",'<div class="contain complainList"> <div class="wrapper" ng-show="!MapShowWin"> <div class="info-item"> <label class="item-key">位置:</label> <button class="btn" type="button" ng-touchstart="getAddr()">定位</button> </div> <div class="info-item"> <div class="m_items"> <div class="choose">选择区县:</div> <div class="c_cont"> <select class="c_area" name="" id="" ng-model="c_cityarea" ng-change="gettowns(c_cityarea)"> <option value="">请选择</option> <option ng-repeat="item in cityarea" value="{{item}}"> {{item.areaName}}</option> </select> </div> </div> <div class="m_items"> <div class="choose">选择乡镇街:</div> <div class="c_cont"> <select class="c_area" name="" id="" ng-model="c_townarea" ng-change="getvillage(c_townarea)"> <option value="">请选择</option> <option ng-repeat="item in townarea " value="{{item}}">{{item.areaName}}</option> </select> </div> </div> <div class="m_items"> <div class="choose">选择村居:</div> <div class="c_cont"> <select class="c_area" name="" id="" ng-model="c_village" ng-change="getriverlist(c_village)"> <option value="">请选择</option> <option ng-repeat="item in villagearea " value="{{item}}">{{item.areaName}}</option> </select> </div> </div> <div class="m_items"> <div class="choose">选择河段:</div> <div class="c_cont"> <select class="c_area" name="" id="" ng-model="c_river" ng-change="getRiverdata(c_river)"> <option value="">请选择</option> <option ng-repeat="r in theRiver" value="{{r}}" ng-model="riverArea">{{r.name}}</option> </select> </div> </div> </div> <div class="info-item"> <span style="display: none">{{time|date:"yyyy-MM-dd HH:mm"}}</span> </div> <div class="clear"> <label class="text-key">描述:</label> <textarea rows="3" class="textarea-cls" ng-model="test"></textarea> </div> <div class="clear"> <label class="content-key">具体内容:</label> <div class="river-info-group"> <label class="group-title">河段保洁</label> <div class="river-info-item"> <input type="checkbox" ng-model="c1" ng-change="change1()"> <label>河岸有垃圾</label> </div> <div class="river-info-item"> <input type="checkbox" ng-model="c2" ng-change="change1()"> <label>河面有垃圾</label> </div> </div> <div class="river-info-group"> <label class="group-title">河段水体</label> <div class="river-info-item"> <input type="checkbox" ng-model="w1" ng-change="change2();"> <label>水体异味</label> </div> <div class="river-info-item"> <input type="checkbox" ng-model="w2" ng-change="change2();"> <label>颜色异常</label> </div> </div> <div class="river-info-group"> <label class="group-title">河段淤积</label> <div class="river-info-item"> <input type="checkbox" ng-model="yu1" ng-change="change3();"> <label>有明显污泥</label> </div> <div class="river-info-item"> <input type="checkbox" ng-model="yu2" ng-change="change3();"> <label>有垃圾淤积</label> </div> </div> <div class="river-info-group"> <label class="group-title">侵占河段</label> <div class="river-info-item"> <input type="checkbox" ng-model="q1" ng-change="change4();"> <label>存在涉水违建</label> </div> <div class="river-info-item"> <input type="checkbox" ng-model="q2" ng-change="change4();"> <label>存在倾倒弃渣、固危废</label> </div> </div> <div class="river-info-group"> <label class="group-title">排污口</label> <div class="river-info-item"> <input type="checkbox" ng-model="p1" ng-change="change5();"> <label>排放时间异常</label> </div> <div class="river-info-item"> <input type="checkbox" ng-model="p2" ng-change="change5();"> <label>排放物异常</label> </div> </div> </div> <div class="info-item clear"> <label class="item-key">照片:</label> <div class="river-info"> <div class="upload-success" ng-repeat="item in thumb" ng-style="{\'background-image\': \'url(\' + item.imgSrc + \')\'}"> <!-- 采用angular循环的方式，对存入thumb的图片进行展示 --> <!--<label>--> <!--<img ng-src="{{item.imgSrc}}"/>--> <!--</label>--> <span ng-if="item.imgSrc" ng-touchstart="img_del($index)"></span> </div> <div class="upload-init" ng-repeat="item in thumb_default"> <!-- 这里之所以写个循环，是为了后期万一需要多个‘加号’框 --> <form id="postForm" method="post" enctype="multipart/form-data"> <input class="input-file" name="file" type="file" id="one-input" accept="image/*" file-model="images" onchange="angular.element(this).scope().img_upload(this.files)" multiple> </form> </div> </div> </div> <div class="info-item"> <button class="btn" type="button" style="width: 100%" ng-touchstart="update()">上报投诉</button> </div> </div> <!-- 百度地图显示区域 --> <div id="container" ng-show="MapShowWin"> </div> </div>');
}]);